# --- ูุฑุญูู ฑ: ูุตุจ ู ุงุฌุฑุง ุงููู ุงููุงูุง ---
import os
import time

print("โณ ุฏุฑ ุญุงู ูุตุจ ุงููุงูุง ุฏุฑ ูุญุท ฺฉููุจ...")
# ุฏุงูููุฏ ู ุงุฌุฑุง ุงุณฺฉุฑูพุช ูุตุจ ุฑุณู ุงููุงูุง
!curl -fsSL https://ollama.com/install.sh | sh
print("โ ุงููุงูุง ุจุง ููููุช ูุตุจ ุดุฏ.")

# ุงุฌุฑุง ุณุฑูุฑ ุงููุงูุง ุฏุฑ ูพุณโุฒููู ุชุง ุจุชูุงูู ุจุง ุขู ฺฉุงุฑ ฺฉูู
# ุนูุงูุช & ุฏุฑ ุงูุชูุง ุฏุณุชูุฑ ุจุฑุง ุงุฌุฑุง ุขู ุฏุฑ ูพุณโุฒููู ุงุณุช
!ollama serve &

# ฺฉู ุตุจุฑ ูโฺฉูู ุชุง ุณุฑูุฑ ุงููุงูุง ุจู ุทูุฑ ฺฉุงูู ุงุฌุฑุง ุดูุฏ
print("โณ ููุชุธุฑ ุจูุงูุฏ ุชุง ุณุฑูุฑ ุงููุงูุง ุขูุงุฏู ุดูุฏ...")
time.sleep(10)
print("โ ุณุฑูุฑ ุงููุงูุง ุขูุงุฏู ุงุณุช.")


# --- ูุฑุญูู ฒ: ุฏุงูููุฏ (Pull) ุชูุงู ูุฏูโูุง ููุฑุฏ ูุงุฒ ---
# ูุณุช ุงุฒ ูุฏูโูุง ฺฉู ูโุฎูุงูุฏ ุฏุฑ ูพฺฉุฌ ุขููุงู ุดูุง ุจุงุดูุฏ
models_to_pull = [
    "qwen2:7b",
    "mistral",
    "codestral",
    "gemma:7b",
    "command-r",
    "deepseek-coder:6.7b"
]

print("\n" + "="*50)
print("โณ ุดุฑูุน ุฏุงูููุฏ ูุฏูโูุง ุจุง ุงููุงูุง...")
print("ุงู ูุฑุขูุฏ ุจุณุชู ุจู ุชุนุฏุงุฏ ู ุญุฌู ูุฏูโูุง ููฺฉู ุงุณุช ุจุณุงุฑ ุทููุงู ุดูุฏ.")
print("="*50)

for model in models_to_pull:
    print(f"\n--- ๐ฅ ุฏุฑ ุญุงู ุฏุงูููุฏ ูุฏู: {model} ---")
    !ollama pull {model}

print("\nโ ุชูุงู ูุฏูโูุง ุฏุฑุฎูุงุณุช ุฏุงูููุฏ ุดุฏูุฏ.")


# --- ูุฑุญูู ณ: ุขุฑุดู ฺฉุฑุฏู ุงููุงูุง ู ูุฏูโูุง ุขู ---
# ูุณุฑูุง ฺฉูุฏ ฺฉู ุจุงุฏ ุขุฑุดู ุดููุฏ:
# ฑ. ูุงู ุงุฌุฑุง ุงููุงูุง
# ฒ. ูพูุดู ุญุงู ูุฏูโูุง ุฏุงูููุฏ ุดุฏู
print("\n" + "="*50)
print("โณ ุฏุฑ ุญุงู ุณุงุฎุช ูพฺฉุฌ ุขููุงู ููุง...")
print("="*50)

# ุงุชุตุงู ุจู ฺฏูฺฏู ุฏุฑุงู ุจุฑุง ุฐุฎุฑู ูุงู ููุง
from google.colab import drive
drive.mount('/content/drive')

# ุชุนุฑู ูุงู ู ูุณุฑ ูุงู ุฎุฑูุฌ ุฏุฑ ฺฏูฺฏู ุฏุฑุงู
archive_path = "/content/drive/MyDrive/Ollama_Offline_Package.tar.gz"

# ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑ tar ุจุฑุง ูุดุฑุฏูโุณุงุฒ ูุงู ุงุฌุฑุง ุงููุงูุง ู ูพูุดู ูุฏูโูุง
# ุงู ุฏู ูุณุฑุ ูุณุฑูุง ุงุณุชุงูุฏุงุฑุฏ ูุตุจ ุงููุงูุง ุฏุฑ ูููฺฉุณ ูุณุชูุฏ
!tar -czf {archive_path} /usr/local/bin/ollama /root/.ollama

print("\n" + "="*50)
print(f"๐๐๐ ูพฺฉุฌ ุขููุงู ุจุง ููููุช ุณุงุฎุชู ู ุฏุฑ ฺฏูฺฏู ุฏุฑุงู ุดูุง ุฐุฎุฑู ุดุฏ!")
print(f"ูุณุฑ ูุงู: {archive_path}")
print("="*50)
